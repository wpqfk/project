{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\qtkdd\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\wpqkf2_project\\\\test\\\\src\\\\pages\\\\Mypage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useAuth } from './component/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyPage = () => {\n  _s();\n  const {\n    token,\n    login,\n    logout\n  } = useAuth();\n  const [userInfo, setUserInfo] = useState(null);\n  const [error, setError] = useState(null);\n  const fetchUserInfo = async () => {\n    try {\n      const response = await fetch('http://localhost:8080/mypage', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include' // 쿠키를 포함하여 요청\n      });\n      if (!response.ok) {\n        throw new Error('사용자 정보를 가져오는 데 실패했습니다.');\n      }\n      const data = await response.json();\n      setUserInfo(data);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"MyPage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), !token && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => login('your_id', 'your_password'),\n      children: \"\\uB85C\\uADF8\\uC778\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 18\n    }, this), token && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchUserInfo,\n        children: \"\\uB0B4 \\uC815\\uBCF4 \\uAC00\\uC838\\uC624\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), userInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uC774\\uB984: \", userInfo.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uC774\\uBA54\\uC77C: \", userInfo.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this) : error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(MyPage, \"4tnW6y8jExz5Nn2aWb2oOZpR/S8=\", false, function () {\n  return [useAuth];\n});\n_c = MyPage;\nexport default MyPage;\nvar _c;\n$RefreshReg$(_c, \"MyPage\");","map":{"version":3,"names":["React","useState","useAuth","jsxDEV","_jsxDEV","MyPage","_s","token","login","logout","userInfo","setUserInfo","error","setError","fetchUserInfo","response","fetch","method","headers","credentials","ok","Error","data","json","err","message","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","name","email","_c","$RefreshReg$"],"sources":["C:/Users/qtkdd/OneDrive/바탕 화면/wpqkf2_project/test/src/pages/Mypage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from './component/auth';\r\n\r\nconst MyPage = () => {\r\n  const { token, login, logout } = useAuth();\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchUserInfo = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:8080/mypage', {\r\n        method: 'GET',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',  // 쿠키를 포함하여 요청\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('사용자 정보를 가져오는 데 실패했습니다.');\r\n      }\r\n\r\n      const data = await response.json();\r\n      setUserInfo(data);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>MyPage</h1>\r\n      {!token && <button onClick={() => login('your_id', 'your_password')}>로그인</button>}\r\n      {token && (\r\n        <div>\r\n          <button onClick={logout}>로그아웃</button>\r\n          <button onClick={fetchUserInfo}>내 정보 가져오기</button>\r\n          {userInfo ? (\r\n            <div>\r\n              <p>이름: {userInfo.name}</p>\r\n              <p>이메일: {userInfo.email}</p>\r\n            </div>\r\n          ) : (\r\n            error && <p>{error}</p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}